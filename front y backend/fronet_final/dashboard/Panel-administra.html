<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel Administrativo - Barbería</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body class="bg-dark text-light">

  <!-- Sidebar -->
  <div class="d-flex">
    <div class="bg-black text-warning p-3" style="width: 250px; min-height: 100vh;">
      <h4><i class="fas fa-user-shield me-2"></i>Admin Panel</h4>
      <hr class="border-warning">
      <a href="#" class="d-block my-2 text-warning text-decoration-none" onclick="event.preventDefault(); cargarEnFrame('../dashboard/Gestion.-clientes.html')"><i class="fas fa-users me-2"></i>Clientes</a>
      <a href="#" class="d-block my-2 text-warning text-decoration-none" onclick="event.preventDefault(); cargarEnFrame('../dashboard/Gestion-barberos.html')"><i class="fas fa-cut me-2"></i>Barberos</a>
      <a href="#" class="d-block my-2 text-warning text-decoration-none" onclick="event.preventDefault(); cargarEnFrame('../dashboard/Configuracion.html')"><i class="fas fa-cog me-2"></i>Configuraciones</a>
            <a href="#" class="d-block my-2 text-warning text-decoration-none" onclick="event.preventDefault(); cargarEnFrame('../dashboard/promociones.html')"><i class="fas fa-tags me-2"></i>Pomociones</a>
            <a href="#" class="d-block my-2 text-warning text-decoration-none" onclick="event.preventDefault(); cargarEnFrame('../dashboard/Grafica.html')"><i class="fas fa-chart-pie me-2"></i>Grafica</a>
      
    </div>

    <!-- Main Content -->
    <div class="p-4 flex-fill" id="main-content">
   
      <iframe id="miFrame" src="" width="100%" height="px" frameborder="0"></iframe>
    </div>
    
  </div>

  <script>
    function cargarEnFrame(ruta) {
      const main = document.getElementById('main-content');
      main.innerHTML = `<iframe src="${ruta}" style="width:100%; height:600px; border:none;"></iframe>`;
    }



    google.charts.load('current', { packages: ['corechart'] });

    function mostrarEstadisticas(e) {
      e.preventDefault();
      const main = document.getElementById("main-content");
      main.innerHTML = `
        <h2 class="text-center text-warning mb-4">Estadísticas</h2>
        <div class="card bg-secondary p-4">
          <div class="row g-2">
            <div class="col-md-3">
              <select id="tipo" class="form-select">
                <option value="circular">Circular</option>
                <option value="columna">Columnas</option>
              </select>
            </div>
            <div class="col-md-4">
              <input id="titulo" class="form-control" placeholder="Título del gráfico">
            </div>
            <div class="col-md-5 d-flex gap-2">
              <button onclick="agregarDato()" class="btn btn-success w-50">Agregar Dato</button>
              <button onclick="cargarGrafico()" class="btn btn-primary w-50">Crear Gráfico</button>
            </div>
          </div>
          <div id="datos" class="mt-3">
            <div class="row g-2 mb-2">
              <div class="col"><input type="text" class="serie form-control" placeholder="Leyenda"></div>
              <div class="col"><input type="number" class="valor form-control" placeholder="Valor"></div>
            </div>
          </div>
          <div id="chart_div" class="mt-4" style="width:100%; height:400px;"></div>
        </div>
      `;
      google.charts.setOnLoadCallback(() => cargarGraficoInicial());
    }

    function agregarDato() {
      const datos = document.getElementById("datos");
      const fila = document.createElement("div");
      fila.className = "row g-2 mb-2";
      fila.innerHTML = `
        <div class="col"><input type="text" class="serie form-control" placeholder="Leyenda"></div>
        <div class="col"><input type="number" class="valor form-control" placeholder="Valor"></div>
      `;
      datos.appendChild(fila);
    }

    function cargarGrafico() {
      const tipo = document.getElementById("tipo").value;
      const titulo = document.getElementById("titulo").value || "Mi Gráfico";
      const series = document.querySelectorAll(".serie");
      const valores = document.querySelectorAll(".valor");
      const dataArray = [["Leyenda", "Valor"]];
      series.forEach((s, i) => {
        const leyenda = s.value || `Dato ${i + 1}`;
        const valor = parseFloat(valores[i].value) || 0;
        dataArray.push([leyenda, valor]);
      });

      const data = google.visualization.arrayToDataTable(dataArray);
      const options = {
        title: titulo,
        backgroundColor: '#333',
        titleTextStyle: { color: '#fff' },
        legend: { textStyle: { color: '#fff' } }
      };

      const chartDiv = document.getElementById('chart_div');
      const chart = tipo === "circular"
        ? new google.visualization.PieChart(chartDiv)
        : new google.visualization.ColumnChart(chartDiv);

      chart.draw(data, options);
    }

    function cargarGraficoInicial() {
      const data = google.visualization.arrayToDataTable([
        ['Servicio', 'Clientes'],
        ['Corte', 45],
        ['Barba', 25],
        ['Tinte', 15],
        ['Tratamiento', 15]
      ]);
      const options = {
        title: 'Distribución de Servicios',
        backgroundColor: '#333',
        titleTextStyle: { color: '#fff' },
        legend: { textStyle: { color: '#fff' } },
        pieHole: 0.4
      };
      new google.visualization.PieChart(document.getElementById('chart_div')).draw(data, options);
    }
  </script>
</body>
</html>

